(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[346],{1103:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(t)})).replace(/&amp;/g,"&")};t.default=n},1113:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return parseInt(e.replace(/[Rp. ]/g,""),t)||0}},1347:function(e,t,a){"use strict";var n=a(0),i=a.n(n),r=a(2),o=a(1388),s=a.n(o),c=a(59),l=a(1149);const d=({style:e,activeWishlist:t,onWishlistClick:a,onClose:r})=>(Object(n.useEffect)((()=>(document.addEventListener("click",r),()=>{document.removeEventListener("click",r)}))),i.a.createElement("div",{className:l.a,style:e},i.a.createElement("div",{className:l.b},i.a.createElement("div",{onClick:e=>{var n;(n=e).preventDefault(),n.stopPropagation(),a(t)},"data-wishlist":!0,"data-testid":"btnWishlistClickable"},t?"Hapus dari Wishlist":"Simpan ke Wishlist"))));d.defaultProps={activeWishlist:!1,onWishlistClick:c.a,onClose:c.a,style:{}};var u=d;const p=e=>{const{id:t,isWishlist:a,onWishlistClick:o,customClass:c,containerClassName:d}=e,[p,m]=Object(n.useState)(!1),[h,b]=Object(n.useState)({}),g=Object(l.d)(!1);return i.a.createElement("div",{id:t,className:Object(r.cx)(l.c,{[d]:Boolean(d)})},i.a.createElement("div",{className:Object(r.cx)(g,c),"data-testid":"divProductWrapper","data-action":p},i.a.createElement(s.a,Object.assign({},e,{onThreeDotsClick:e=>{const t=document.body.getBoundingClientRect(),a=e.currentTarget.getBoundingClientRect();t.right-a.right<180&&b({right:"32px"}),m(!0)}})),p&&i.a.createElement(u,{style:h,onClose:e=>{e.stopPropagation(),e.preventDefault(),m(!1)},activeWishlist:a,onWishlistClick:o})))};p.defaultProps={containerClassName:"",customClass:"",id:"",isGold:!1,isOfficial:!1,isTopads:!1,isWishlist:!1,productImageUrl:"",productName:"",productPrice:"",productRating:0,productRatingAverage:"",productReviewCount:0,productUrl:"",shopLocation:"",showRating:!1,showRatingAverage:!1,showRatingAverageWithLabel:!1,onImpressed:c.a,onProductClick:c.a,onWishlistClick:c.a};t.a=p},1560:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));a(1359),a(1089);const n=(e,t)=>{let a=Math.abs(t-e)/1e3;const n=Math.floor(a/86400);a-=86400*n;const i=Math.floor(a/3600)%24;a-=3600*i;const r=Math.floor(a/60)%60;a-=60*r;return{day:n,hour:i,minute:r,second:parseInt(a%60,10)}}},2172:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(0);function i(e){var t=Object(n.useContext)(e);return[t.lang,t.setLang]}},2287:function(e,t,a){"use strict";t.a=e=>{const t=[];return 0===e.length?t.push("#ffffff","#ffffff"):1===e.length?t.push(e[0],e[0]):t.push(...e),t.join(", ")}},2288:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));const n=e=>{const{index:t,title:a,affix:n,recommendationType:i,pageName:r,isProduct:o,isTopads:s,isCarousel:c}=e,l=["/",`p${t+1}`];return n&&l.push(n),o&&l.push("product"),s?l.push("topads"):l.push("non topads"),c?l.push("carousel"):l.push("non carousel"),i&&l.push(i),r&&l.push(r),a&&l.push(a),l.join(" - ")},i=(e=[])=>e.reduce(((e,t)=>t),{title:"",imageUrl:""})},2887:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(1560);const i=e=>{const t=new Date,a=e?new Date(e):t,i=t>a,{day:r}=Object(n.a)(t,a);return{showCountdown:!!i||0===r,end:a.toString(),difference:i?0:r}}},3016:function(e,t,a){"use strict";var n=a(0),i=a.n(n),r=a(1085),o=a(1),s=a(2);const c=Object(s.css)("width:100%;height:100%;padding:0px 8px 3px 8px;"),l=Object(s.css)("height:100%;border-radius:8px;margin:0px;padding:0px;box-shadow:0 1px 4px 0 ",o.NN300,";"),d=Object(s.css)("& > div{border-top-right-radius:8px;border-top-left-radius:8px;border-bottom-right-radius:0px;border-bottom-left-radius:0px;}"),u=Object(s.css)("display:block;padding:8px;");var p=a(1731);const m=()=>i.a.createElement("div",{className:c},i.a.createElement("div",{className:l},i.a.createElement("div",{className:d},i.a.createElement("div",{className:p.b,style:{width:"100%",paddingBottom:"100%",marginBottom:"0"}})),i.a.createElement("div",{className:u},i.a.createElement("div",{className:p.a,style:{height:"10px",width:"95%",marginBottom:"8px"}}),i.a.createElement("div",{className:p.a,style:{height:"10px",width:"75%",marginBottom:"16px"}}),i.a.createElement("div",{className:p.a,style:{height:"10px",width:"40%",marginBottom:"16px"}}))));var h=Object(n.memo)(m);const b=({children:e,forceRender:t})=>{const[a,o]=Object(n.useState)(!1),s=Object(r.a)((()=>o(!0)),!0,!0);return i.a.createElement("div",{style:{height:"100%"},ref:s,"data-testid":"divLazyCarousel"},a||t?e:i.a.createElement(h,null))};b.defaultProps={children:null,forceRender:!1};t.a=b},3709:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(35),o=a(1116),s=a.n(o),c=a(45),l=a(1816),d=a(56),u=a(2172),p=a(1381),m=a(1560),h=a(59),b=a(2),g=a(1085),f=a(1060),x=a(1),v=a(1048);const k=({show:e,background:t,zIndex:a=1,offsetWidth:n=0})=>Object(b.css)("display:block;position:absolute;top:0;left:",n,"px;width:24%;height:100%;cursor:pointer;z-index:",a,";background:linear-gradient(180deg,",t,");animation:",(e=>Object(b.keyframes)("0%{transform:translateX(",e?"-102px":"0px",");opacity:",e?"0":"1",";}100%{transform:translateX(",e?"0px":"-102px",");opacity:",e?"1":"0",";}"))(e)," 0.75s cubic-bezier(0.25,0.46,0.45,0.94) both;border-radius:12px;"),C=Object(b.css)("width:65%;height:100%;margin:0;background-color:transparent;display:flex;justify-content:center;align-items:center;& > img{margin:0 auto;max-height:100%;min-height:260px;border-top-left-radius:12px;border-bottom-left-radius:12px;object-fit:contain;}");const w=Object(b.css)("margin:24px 0 24px 16px;height:1px;background-color:",x.NN0,";width:20px;"),O=Object(b.css)("width:60%;margin:0 0 0 16px;color:",x.NN0,";font-weight:400;font-size:",Object(v.a)(14),";line-height:20px;"),j=e=>{const{className:t,dataTestId:a,item:r,isBot:o,initialBanner:s,url:c,show:l,zIndex:d,offsetWidth:u,onClick:p,onView:m}=e,h=Object(g.a)(m,null,!0),j=k({show:l,background:r.background,zIndex:d,offsetWidth:u}),y=Object(n.useMemo)((()=>{return e=Boolean(r.imageUrl),Object(b.css)("width:65%;margin:",e?"24px":"16px"," 16px 0 16px;font-size:",Object(v.a)(28),";font-weight:800;line-height:32px;color:",x.NN0,";text-align:",e?"center":"left",";");var e}),[r.imageUrl]),I=Object(b.cx)(j,{[t]:t});return r.imageUrl||r.background?i.a.createElement("a",{ref:h,href:c,className:I,"data-testid":a.banner,onClick:e=>{p(e,r)}},r.title?i.a.createElement("h1",{className:y},r.title):null,r.imageUrl?null:i.a.createElement("div",{className:w}),r.imageUrl?null:i.a.createElement("p",{className:O},r.description),r.imageUrl?i.a.createElement(f.a,{key:r.imageUrl,lazy:!o,containerClassName:C,alt:"banner info",src:r.imageUrl,initial:s}):null):null};j.defaultProps={className:"",dataTestId:{},initialBanner:"",isBot:!1,item:{background:"",imageUrl:""},offsetWidth:20,show:!0,zIndex:2};var y=j,I=a(306);var N={seeMore:a.n(I)()("Lihat Semua","See More")},T=a(1347);const U=Object(b.css)("background-color:transparent;position:relative;"),B=Object(b.css)("display:block;padding:0px 8px;"),E=Object(b.css)("flex:1 1 auto;background-color:transparent;& > div{height:100%;}"),D=e=>{const{isBot:t,type:a,dataTestId:r,onView:o,onClick:s,...c}=e,l=Object(n.useCallback)((e=>{s(e,c)}),[s,c]),d=Object(n.useCallback)((()=>{o(c)}),[o,c]);return"dummy"===a?i.a.createElement("div",{className:E,"aria-disabled":"true"}):i.a.createElement(T.a,Object.assign({containerClassName:U,dataTestIdOptions:r,className:E,customClass:B,isBot:t,onProductClick:l,onImpressed:d},c))};D.defaultProps={type:"organic"};var P=D;const L=20;var $=a(2887),A=a(1571);const R=Object(b.css)("width:calc(100% + ",L,"px);"),S=Object(b.css)("position:absolute;top:0;left:-",104,"px;width:",100,"px;height:100%;background:",x.NN0,";z-index:",3,";");const _=Object(b.css)("width:calc(24% - 6px);");var W=a(3016);const M=e=>{const{banner:t,bannerUrl:a,dataTestId:r,expireDate:o,isBot:s,initialBanner:c,linkText:l,linkUrl:h,margin:g,products:f,subtitle:x,showBanner:v,title:k,withTimer:C,onClickLink:w,onClickNav:O,onClickProduct:j,onViewProduct:I,onClickBanner:T,onViewBanner:U,onTimerExpired:B}=e,[{showCountdown:E,difference:D,end:M},z]=Object(n.useState)(Object($.a)(o)),[V]=Object(u.a)(d.a),H=Object(n.useRef)(null),G=Object(n.useMemo)((()=>{return e=t.imageUrl,Object(b.css)("margin:0px -8px;position:static;&:hover button.prev-arrow{left:4px !important;z-index:",3,";}&:hover button.next-arrow{right:4px !important;z-index:",3,";}button.next-arrow:disabled,button.prev-arrow:disabled{opacity:0;}> div{> div{padding-bottom:4px;> div{z-index:",2,";}",e?" \n          > :first-child {\n            z-index: 1;\n          }\n        ":"","}}");var e}),[t.imageUrl]),F=Object(n.useMemo)((()=>{return e=t.imageUrl,Object(b.css)("position:relative;overflow:hidden;left:-",L,"px;width:calc(100% + ",L,"px);padding:",e?"24":"0","px ",L,"px ",e?"20":"0","px ",L,"px;");var e}),[t.imageUrl]),K=Object(n.useMemo)((()=>{const e=x||"";return D>0?`${e} ${D} hari lagi`:e}),[x,D]),Q=Object(n.useCallback)((()=>{H.current&&clearInterval(H.current),0!==D&&C&&(H.current=setInterval((()=>{const e=new Date,t=new Date(M),a=Object(m.a)(e,t);D!==a.day&&z((e=>({...e,showCountdown:0===a.day,difference:a.day})))}),1e3))}),[D,M,C]),X=Object(n.useMemo)((()=>f.map(((e,t)=>i.a.createElement(W.a,{key:t,forceRender:s||t<5},i.a.createElement(P,Object.assign({key:e.productId,isBot:s,onView:I,onClick:j,dataTestId:r},e)))))),[f,s,I,j,r]);return Object(n.useEffect)((()=>{Q()}),[Q]),Object(n.useEffect)((()=>{z(Object($.a)(o))}),[o]),i.a.createElement(A.a,{title:k,layout:"basic",margin:g,linkUrl:h,expireDate:o,dataTestID:r,subtitle:K,containerClassName:R,withTimer:C&&E,linkText:l||N.seeMore[V],onTimerExpired:B,onLinkClick:w},i.a.createElement("div",{className:S}),i.a.createElement("div",{className:F},i.a.createElement(y,{className:_,dataTestId:r,initialBanner:c,show:v,item:t,url:a,isBot:s,offsetWidth:L,onClick:T,onView:U,zIndex:2}),i.a.createElement(p.default,{theme:"home",items:X,dataTestId:r,className:G,initialIndex:0,itemsToShow:6,scrollStep:6,prevClass:"prev-arrow",nextClass:"next-arrow",showNav:f.length>6,onNext:O,onPrev:O})))};M.defaultProps={dataTestId:{prodImg:"imgLeftCarouselProduct",wrapper:"divLeftCarouselWrapper",banner:"divLeftCarouselBanner",nextNav:"btnNextNav",prevNav:"btnPrevNav",link:"aLinkHeader"},margin:"16px",title:"",showBanner:!0,subtitle:"",linkText:"",linkUrl:"",expireDate:"",withTimer:!1,products:[],banner:{},bannerUrl:"/",initialBanner:"",isBot:!1,onClickNav:h.a,onClickLink:h.a,onClickProduct:h.a,onClickBanner:h.a,onViewBanner:h.a,onViewProduct:h.a,onTimerExpired:h.a};var z=M,V=a(9),H=a(1237),G=a(2055),F=a(2287),K=a(2288);const Q=e=>{const t=null!=e&&e.expiredTime?new Date(null==e?void 0:e.expiredTime):new Date,a={meta:{status:"loading"},data:{}};return e&&Object.keys(e||{}).length?(a.meta.status="success",a.data={title:e.name||"",subtitle:e.subtitle||"",linkText:"",linkUrl:e.url?Object(H.a)(e.url):"",expireDate:t.toString(),showTimer:Boolean(e.expiredTime)}):(Object(G.a)("Left Carousel","","Something wrong with header data"),a.meta.status="error"),a},X=e=>{const t={meta:{status:"loading"},data:{}};return e&&Object.keys(e||{}).length?(t.meta.status="success",t.data={id:e.id||0,imageUrl:e.imageUrl||"",background:Object(F.a)(e.gradientColor||[]),showBanner:Boolean(e.imageUrl),attribution:e.attribution}):(t.meta.status="error",Object(G.a)("Left Carousel","","Something wrong with banner data")),t},Y=(e,t,a)=>{const n={meta:{status:"loading"},data:[]};if(e&&Array.isArray(e))if(0===e.length)n.meta.status="empty";else{let i=[...e];const r=X(t),o="success"===r.meta.status&&r.data.imageUrl;o&&(i=[{type:"dummy"},...e]);const s=e=>/orang\s?$/i.test(e)?e.replace(/orang\s?$/i,""):e;n.meta.status="success",n.data=i.map(((e,t)=>{var n;const{shop:i={}}=e,r=Object(K.b)(e.badges);return{productId:e.id||0,productName:e.name||"",productPrice:e.price||"",productUrl:e.isTopads&&!a?e.productClickUrl:Object(H.a)(e.url),productImageUrl:e.imageUrl||"",productRating:e.rating||"",productRatingAverage:e.ratingAverage||"",productReviewCount:e.countReview||0,productDiscountPercentage:e.discountPercentage||0,productSlashedPrice:e.slashedPrice||"",productPDPView:s(e.productViewCountFormatted||""),productSoldPercentage:e.soldPercentage||0,productOutOfStock:e.isOutOfStock,productRecomType:e.recommendationType||"",originClickUrl:Object(H.a)(e.url),topadsClickUrl:e.productClickUrl||"",topadsImpressionUrl:e.impression||"",isTopads:e.isTopads,labelGroup:e.labelGroup||[],labelSprintBar:e.label||"",showProgress:Boolean(e.label)&&!e.isOutOfStock,shop:{badgeImage:r.imageUrl||""},shopLocation:i.city||"",showATC:!1,showRating:!1,showRatingAverage:!1,showRatingAverageWithLabel:!0,showThreeDots:!1,warehouseID:null!==(n=e.warehouseID)&&void 0!==n?n:0,index:o?t-1:t,type:e.type||"organic"}}))}else n.meta.status="error",Object(G.a)("Left Carousel","","Something wrong with grids data");return n};var q=e=>({header:Q(e.header),banner:X(e.banner),grids:Y(e.grids,e.banner,e.isBot)}),J=a(3276),Z=a(8),ee=a(1326),te=a.n(ee),ae=a(1113),ne=a.n(ae);const ie=e=>{const{channel:t,channelIndex:a,isBot:o,onFetchMore:d}=e,{userId:u}=Object(n.useContext)(c.a),p=Object(r.k)(),{header:m,grids:h,banner:b}=Object(n.useMemo)((()=>q(e)),[e]),[g,f]=Object(n.useState)(Boolean(b.data.imageUrl)),{addQueue:x}=(()=>{const e=Object(n.useCallback)((e=>{const{productId:t,topadsImpressionUrl:a}=e;return{id:t,endpoint:a}}),[]),t=Object(n.useCallback)((e=>{for(const t of e)Object(l.a)(t.endpoint,"impression","Left Carousel")}),[]);return te()({timeout:10,threshold:1,batchKey:"productID",onHitCallback:e,onBatchCallback:t})})(),{addQueue:v}=(e=>{const{channelIndex:t,channel:a,header:i={}}=e,{id:r,galaxyAttribution:o,persoType:s,categoryID:c,pageName:l}=a,d=Object(n.useCallback)((e=>{const{productId:a,productName:n,productPrice:d,productRecomType:u,isTopads:p,index:m,labelGroup:h,warehouseID:b}=e,g=h.findIndex((e=>"fulfillment"===e.position))>=0;return{name:n,id:`${a}`,price:ne()(d),brand:"",category:"",variant:"none / other",list:Object(K.a)({index:t,title:i.title,affix:"dynamic channel left carousel",recommendationType:u,pageName:l,isTopads:p,isProduct:!0,isCarousel:!0}),position:m+1,attribution:o,dimension115:g,dimension132:"",dimension134:r,dimension142:`${s}_${c}`,dimension174:b}}),[t,i.title,l,o,r,s,c]),u=Object(n.useCallback)((e=>{const t={event:"productView",eventCategory:"homepage",eventAction:"impression on product dynamic channel left carousel",eventLabel:"",ecommerce:{currencyCode:"IDR",impressions:e}};Z.default.pushObject(t)}),[]);return te()({timeout:2e3,threshold:6,batchKey:"productId",onHitCallback:d,onBatchCallback:u})})({header:m.data,channelIndex:a,channel:t}),k=Object(n.useCallback)((e=>{const{href:a}=e.target;e.preventDefault(),(e=>{const{channel:t,header:a={},userId:n}=e,i={event:"clickHomepage",eventCategory:"homepage",eventAction:"click view all on dynamic channel left carousel",eventLabel:`${t.id} - ${a.title}`,channelId:t.id,userId:n||0,currentSite:"tokopediamarketplace",businessUnit:"home & browse"};Z.default.pushObject(i)})({channel:t,header:m.data,userId:u}),window.open(a)}),[t,u,m.data]),C=Object(n.useCallback)(((e,n)=>{const{isTopads:i,originClickUrl:r,topadsClickUrl:o}=n,c=s()(e,{url:r,history:p},V.Y);(e=>{const{channelIndex:t,product:a,channel:n,header:i={}}=e,{id:r,campaignCode:o,galaxyAttribution:s,categoryID:c,persoType:l,pageName:d}=n,{productId:u,productName:p,productRecomType:m,productPrice:h,index:b,isTopads:g,labelGroup:f,warehouseID:x}=a,v=f.findIndex((e=>"fulfillment"===e.position))>=0,k={event:"productClick",eventCategory:"homepage",eventAction:"click on product dynamic channel left carousel",eventLabel:`${r} - ${i.title}`,channelId:r,campaignCode:o,ecommerce:{click:{actionField:{list:Object(K.a)({index:t,title:i.title,affix:"dynamic channel left carousel",recommendationType:m,pageName:d,isTopads:g,isProduct:!0,isCarousel:!0})},products:[{name:p,id:`${u}`,price:ne()(h),brand:"",category:"",variant:"none / other",position:b+1,attribution:s,dimension115:v,dimension132:"",dimension134:r,dimension142:`${l}_${c}`,dimension174:x}]}}};Z.default.pushObject(k)})({channelIndex:a,channel:t,product:n,header:m.data}),i&&o&&c&&Object(l.a)(o,"click","Left Carousel")}),[t,a,m.data,p]),w=Object(n.useCallback)((e=>{const{isTopads:t}=e;v(e),t&&x(e)}),[v,x]),O=Object(n.useCallback)((()=>{(e=>{const{channelIndex:t,channel:a,banner:n={},header:i={}}=e,{title:r}=i,{id:o,attribution:s}=n,{id:c,persoType:l,categoryID:d}=a,u={event:"promoView",eventCategory:"homepage",eventAction:"impression on banner dynamic channel left carousel",eventLabel:"",ecommerce:{promoView:{promotions:[{id:`${c}_${o}_${l}_${d}`,name:`/ - p${t+1} - dynamic channel left carousel - banner - ${r}`,creative:s,position:1}]}}};Z.default.pushObject(u)})({channel:t,channelIndex:a,header:m.data,banner:b.data})}),[t,m.data,b.data,a]),j=Object(n.useCallback)((e=>{const{linkUrl:n}=m.data;e.preventDefault(),(e=>{const{channelIndex:t,channel:a,banner:n={},header:i={}}=e,{id:r,attribution:o}=n,{title:s}=i,{id:c,galaxyAttribution:l,persona:d,categoryID:u,brandID:p,campaignCode:m,persoType:h}=a,b={event:"promoClick",eventCategory:"homepage",eventAction:"click on banner dynamic channel left carousel",eventLabel:`${c} - ${s}`,attribution:l,affinityLabel:d,categoryId:u,shopId:p,campaignCode:m,channelId:`${c}`,ecommerce:{promoClick:{promotions:[{id:`${c}_${r}_${h}_${u}`,name:`/ - p${t+1} - dynamic channel left carousel - banner - ${s}`,creative:o,position:1}]}}};Z.default.pushObject(b)})({channel:t,header:m.data,banner:b.data,channelIndex:a}),n&&window.open(n)}),[t,a,m.data,b.data]),y=Object(n.useCallback)((()=>{d(t.id,t.groupID,t.isAutoRefresh)}),[t,d]),I=Object(n.useCallback)(((e,t)=>{f(b.data.imageUrl&&0===t)}),[b.data]);return i.a.createElement(z,{expireDate:m.data.expireDate,withTimer:m.data.showTimer,bannerUrl:m.data.linkUrl,subtitle:m.data.subtitle,linkText:m.data.linkText,linkUrl:m.data.linkUrl,title:m.data.title,showBanner:g,products:h.data,dataTestId:J.a,banner:b.data,margin:"24px 0px",isBot:o,onClickNav:I,onClickLink:k,onViewBanner:O,onViewProduct:w,onClickBanner:j,onClickProduct:C,onTimerExpired:y})};ie.defaultProps={channel:{},isBot:!1,onFetchMore:h.a};t.default=ie}}]);