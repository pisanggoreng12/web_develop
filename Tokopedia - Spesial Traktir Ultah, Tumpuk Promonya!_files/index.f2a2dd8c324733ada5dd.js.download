window.datalayerClientWeb=function(e){var n={};function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(r,o,function(n){return e[n]}.bind(null,o));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=0)}([function(e,n,t){"use strict";t.r(n),t.d(n,"initializeGTM",(function(){return y})),t.d(n,"initializeGTMWithIris",(function(){return oe})),t.d(n,"initializeIris",(function(){return ie})),t.d(n,"sendPageViewIrisFromClient",(function(){return X}));var r=function(e,n){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var r,o,i=t.call(e),a=[];try{for(;(void 0===n||n-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return a},o=function(e,n,t){if(t||2===arguments.length)for(var r,o=0,i=n.length;o<i;o++)!r&&o in n||(r||(r=Array.prototype.slice.call(n,0,o)),r[o]=n[o]);return e.concat(r||Array.prototype.slice.call(n))},i=function(e){return e instanceof Array},a=function(){return Boolean("undefined"!=typeof window)},c=function(){return Boolean(!1)},u=function(e){return e instanceof Error?e:"string"==typeof e?Error(e):new Error("Unknown error - ".concat(e))},s=function(e){var n=e.level,t=e.message,a=e.options,u=void 0===a?{}:a;if(u.debug||c()){var s=[];s=i(t)?t:[t],u.style&&(s=["%c ".concat([t].join(" ")),u.style]),console[n].apply(console,o([],r(s),!1))}return!0},l=function(e){try{return JSON.stringify(e)}catch(e){return""}},f=function(e,n){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var r,o,i=t.call(e),a=[];try{for(;(void 0===n||n-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return a},d=function(e,n,t){if(t||2===arguments.length)for(var r,o=0,i=n.length;o<i;o++)!r&&o in n||(r||(r=Array.prototype.slice.call(n,0,o)),r[o]=n[o]);return e.concat(r||Array.prototype.slice.call(n))},p=function(e,n){if("undefined"!=typeof window&&"undefined"!=typeof document&&!window.pollingDone){if("function"==typeof n)return e.map((function(e){return n([],e)})),void(window.pollingDone=!0);i(n)&&n.forEach((function(n){"function"==typeof n&&(e.map((function(e){return n([],e)})),window.pollingDone=!0)}))}},v=function(e,n){var t=window[e].push;"undefined"==typeof window||"undefined"==typeof document||window.pollingDone||p(window[e],n),window[e].push=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];try{"function"==typeof t&&t.apply(void 0,d([],f(r),!1))}catch(e){var i=u(e).message;s({level:"error",message:"Error inject hooks - ".concat(i)})}"function"==typeof n?(p(window[e],n),n.apply(void 0,d([window[e]],f(r),!1))):n instanceof Array&&n.forEach((function(n){"function"==typeof n&&(p(window[e],n),n.apply(void 0,d([window[e]],f(r),!1)))}))}},y=function(e,n,t){if(void 0===e&&(e="dataLayer"),"undefined"!=typeof window&&"undefined"!=typeof document&&!window.init_iris_new){for(var r=!1,o=document.getElementsByTagName("script"),i=0;i<o.length;i++)if(o[i]&&o[i].src&&o[i].src.includes("www.googletagmanager.com/gtm.js?id=".concat(t))){r=!0;break}try{if(window[e]=window[e]||[],r)v(e,n);else{var a=document.getElementsByTagName("script")[0],l=document.createElement("script"),f="dataLayer"!==e?"&l=".concat(e):"";l.async=!0,l.src="//www.googletagmanager.com/gtm.js?id=".concat(t).concat(f),n&&l.addEventListener("load",(function(){v(e,n),n||window[e].push({"gtm.start":(new Date).getTime(),event:"gtm.js"})})),c()&&s({level:"log",message:"[GTM] Initialized with ID ".concat(t," and trackerName ").concat(e)}),a.parentNode?a.parentNode.insertBefore(l,a):document.getElementsByTagName("head")[0].append(l)}return void(window.init_iris_new=!0)}catch(e){var d=u(e).message;return void s({level:"log",message:"[GTM] Error Initializing GTM - ".concat(d)})}}s({level:"warn",message:"[GTM] Warning! window or document object not found"})},g="color: white; background: #5db649;",m=[],w=["peduli-lindungi"],h=["authenticated"],b=[],_=[],I=[],S=[["domainHash","string"],["uuid","string"],["initialVisit","number"],["beginningPrev","number"],["beginningCurr","number"],["counter","number"]],k=["pageviewIris","__callPageview"],O=function(e){try{var n=a();if(!e)return;if(!n||n&&!document||n&&document&&!document.cookie)return;var t=encodeURIComponent(e).replace(/[-.+*\\]/g,"\\$&"),r=new RegExp("(?:(?:^|.*;)\\s*".concat(t,"\\s*\\=\\s*([^;]*).*$)|^.*$"));return decodeURIComponent(document.cookie.replace(r,"$1"))||void 0||void 0}catch(e){var o=u(e).message;return void s({level:"error",message:o})}},x=function(e){return"non-tokopedia"===e?"string"==typeof window.__IRIS_API_ENDOINT__?window.__IRIS_API_ENDOINT__:void 0:"tuid"},E=function(e){try{return btoa(e)}catch(n){return e}},P=function(){try{for(var e="",n=4294967296*window.crypto.getRandomValues(new Uint32Array(1))[0]>>>0,t=0;t<32;t++){var r="xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx"[t-1],o=15&n;e+="-"===r||"4"===r?r:("x"===r?o:3&o|8).toString(16),n=t%8==0?4294967296*Math.random()>>>0:n>>4}return e.toString()}catch(e){return new Array(32).fill(null).reduce((function(e){return"".concat(e).concat("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(32*Math.random())))}),"")}},T=function(e,n){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var r,o,i=t.call(e),a=[];try{for(;(void 0===n||n-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return a},j=function(){var e=O("ISID");return e?function(e,n){try{if("string"==typeof e)return JSON.parse(e);throw new Error}catch(e){return n}}(e,{}):{}},N=function(e){var n,t=e.prevIrisSession,r=e.options,o=void 0===r?{}:r,i=window.location.hostname,a=o.currentTime?o.currentTime:(new Date).getTime();return void 0!==t&&"string"==typeof t.domainHash&&"string"==typeof t.uuid&&"number"==typeof t.initialVisit&&"number"==typeof t.beginningCurr&&"number"==typeof t.beginningPrev&&"number"==typeof t.counter?(n=JSON.parse(JSON.stringify(t)),o.increment?(n.domainHash=E(i),n.counter+=1):(n.domainHash=E(i),n.beginningPrev=n.beginningCurr,n.initialVisit=a,n.beginningCurr=a,n.uuid=P(),n.counter=1),c()&&s({level:"log",message:["[Iris Tracker] Old Iris Session found, updated session data",l(n)],options:{style:g}})):(n={domainHash:E(i),uuid:P(),initialVisit:a,beginningPrev:a,beginningCurr:a,counter:1},c()&&s({level:"log",message:["[Iris Tracker] Old Iris Session not found, generated new session data",l(n)],options:{style:g}})),n},A=function(e,n){void 0===n&&(n="default");var t=S.reduce((function(n,t){var r=T(t,1)[0];return n.push("".concat(e[r])),n}),[]);return"generate-iris-session"===n?t.slice(0,3).join("."):t.join(".")},C=function(e,n){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var r,o,i=t.call(e),a=[];try{for(;(void 0===n||n-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return a},D=function(e){var n=window.location.hostname,t=e.sessionString,r=e.domain,o=e.maxAge,i=j();i[n]=t;try{c()&&s({level:"log",message:["[Iris Tracker] Write Iris Session to Cookie ".concat(t),JSON.stringify(i)],options:{style:g}}),function(e){try{var n=e.cookieName,t=e.cookieValue,r={domain:e.domain,maxAge:e.maxAge},o=Object.keys(r).map((function(e){return";".concat((n=e,n.replace(/[A-Z]/g,(function(e){return"-".concat(e.toLowerCase())}))),"=").concat(r[e]);var n})).join("");document.cookie="".concat(n,"=").concat(encodeURIComponent(t)).concat(o,";path=/")}catch(e){var i=u(e).message;return s({level:"error",message:i}),!1}}({cookieName:"ISID",cookieValue:JSON.stringify(i),domain:r,maxAge:o})}catch(e){var a=u(e).message;return s({level:"error",message:a}),!1}return!0},V=function(e){var n=e.currentTime,t=e.domain,r=e.increment,o=e.maxAge,i=function(){var e=window.location.hostname,n=j(),t={};if("string"==typeof n[e]&&n[e].split(".").forEach((function(e,n){if(n<S.length){var r=C(S[n],2),o=r[0];switch(r[1]){case"number":t[o]=parseInt(e,10);break;case"string":default:t[o]=e}}})),c()&&s({level:"log",message:l(n),options:{style:g}}),t&&t.domainHash&&t.uuid&&t.initialVisit&&t.beginningCurr&&t.beginningPrev&&t.counter)return{beginningCurr:t.beginningCurr,beginningPrev:t.beginningPrev,counter:t.counter,domainHash:t.domainHash,initialVisit:t.initialVisit,uuid:t.uuid}}(),a=N({options:{currentTime:n,increment:r},prevIrisSession:i});window.irisSessionRaw=a,window.irisSession=A(a,"generate-iris-session"),c()&&s({level:"log",message:"[Iris Tracker] Update Iris Session ".concat(l(a)),options:{style:g}}),D({domain:t,maxAge:o,sessionString:A(a)})},R=function(e){var n=e.domain;a()&&(c()&&s({level:"log",message:"[Iris Tracker] Manage Iris Session Starts !",options:{style:g}}),V({domain:n,increment:!0,maxAge:31536e3}),window.addEventListener("beforeunload",(function(){var e=window.irisSessionRaw,t=A(e||N({}));c()&&s({level:"log",message:"[Iris Tracker] Triggered write Iris cookie ".concat(l(window.irisSessionRaw)),options:{style:g}}),D({domain:n,maxAge:31536e3,sessionString:t})})))},H=function(e){try{var n=e.apps,t=void 0===n?"tokopedia":n,r=e.cookieName;if(!r)throw new Error;if(!a())throw new Error;if(function(e){if(void 0===e&&(e="tokopedia"),a()){if("non-tokopedia"===e)return!0;var n=!1,t=!0,r=window.location.href;return m.length?m.forEach((function(e){!n&&r.indexOf(e)>-1&&(n=!0)})):n=!0,w.length?w.forEach((function(e){t&&r.indexOf(e)>-1&&(t=!1)})):t=!0,n&&t}return!1}(t))return O(r);throw new Error}catch(e){return}},M=function(){var e=O("_ga");if(e){var n=e.split(".");if(4===n.length)return[n[2],n[3]].join(".")}},U=function(e,n){return"boolean"==typeof n||"number"==typeof n||null==n||"symbol"==typeof n?String(n):(i(n)&&n.forEach((function(e){U(void 0,e)})),n)},B=function(e){return void 0===e&&(e="tokopedia"),"non-tokopedia"===e?"string"==typeof window.__IRIS_API_ENDOINT__?window.__IRIS_API_ENDOINT__:void 0:"https://hub.tokopedia.com/iris/v1/track/event"},G=function(e){return void 0===e&&(e="tokopedia"),"non-tokopedia"===e?"string"==typeof window.__IRIS_API_BATCH_ENDOINT__?window.__IRIS_API_ENDOINT__:void 0:"https://hub.tokopedia.com/iris/v1/track/dim-event"},J=function(){return(J=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)},F=function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function c(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,c)}u((r=r.apply(e,n||[])).next())}))},L=function(e,n){var t,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(t=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=n.call(e,a)}catch(e){c=[6,e],r=0}finally{t=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},z=function(){return(z=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)},W=function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function c(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,c)}u((r=r.apply(e,n||[])).next())}))},$=function(e,n){var t,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(t=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=n.call(e,a)}catch(e){c=[6,e],r=0}finally{t=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},K=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}return t},Y=function(e,n){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var r,o,i=t.call(e),a=[];try{for(;(void 0===n||n-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return a},Z=function(e){var n=e.apps,t=e.payload,r=e.isEventPerformance,o=e.headers;navigator&&"function"==typeof navigator.sendBeacon?function(e){var n=e.apps,t=e.payload,r=e.isEventPerformance;try{var o=r?G(n):B(n);if(void 0===o)return;if(null==t)return;c()&&s({level:"log",message:["[Iris Tracker] PUSH via beacon - start",l(t)],options:{style:g}}),navigator.sendBeacon(o,l({data:t}))}catch(e){var i=u(e).message;s({level:"error",message:["[Iris Tracker] PUSH via beacon - error",i]})}}({apps:n,payload:t,isEventPerformance:r}):function(e){F(void 0,void 0,void 0,(function(){var n,t,r,o,i,a,f,d,p,v;return L(this,(function(y){switch(y.label){case 0:n=e.payload,t=e.apps,r=e.config,o=void 0===r?{}:r,i=e.configHeaders,a=void 0===i?{}:i,f=e.isEventPerformance,y.label=1;case 1:return y.trys.push([1,4,,5]),void 0===(d=f?G(t):B(t))?[2]:null==n?[2]:(c()&&s({level:"log",message:["[Iris Tracker] PUSH via fetch API - start",l(n)],options:{style:g}}),[4,fetch(d,J(J({},o),{method:"POST",body:(m={data:n},JSON.stringify(m,U)),headers:J({"Content-Type":"application/json"},a)}))]);case 2:y.sent(),y.label=3;case 3:return[3,5];case 4:return p=y.sent(),v=u(p).message,s({level:"error",message:["[Iris Tracker] PUSH via fetch API - error",v]}),[3,5];case 5:return[2]}var m}))}))}({apps:n,payload:t,isEventPerformance:r,configHeaders:"object"==typeof o?o:void 0})},q=function(e){return W(void 0,void 0,void 0,(function(){var n,t,r,o,a,f,d,p,v,y;return $(this,(function(m){return n=e.container,t=e.customEventField,r=e.defaultEventValue,o=e.apps,a=void 0===o?"tokopedia":o,f=e.domain,d=void 0===f?"tokopedia.com":f,v=0,window.gaClientId=M(),y=function(e,o){try{var f=(new Date).getTime(),p="event",v=void 0;if("string"==typeof t&&(p=t),"object"!=typeof(A=o)||i(A)||null===A?function(e){return"string"==typeof e}(o)&&(v=function(e){var n,t=e.tracker,r=e.customEventFieldName,o=e.defaultEventValue;if(r)return(n={event:o||"default_v2"})[r]=t,n.event_ga=null,n}({tracker:o,customEventFieldName:t,defaultEventValue:r})):v=function(e){var n=e.tracker,t=e.customEventFieldName,r=e.defaultEventValue;try{if(Object.prototype.hasOwnProperty.call(n,"event")&&n.event){var o=n.event,i=K(n,["event"]);if(i.event=o,Object.prototype.hasOwnProperty.call(i,"gtm.element")&&"object"==typeof i["gtm.element"]&&null!==i["gtm.element"]){var a="",c=i["gtm.element"]||{},l=c.id,f=c.className;"string"==typeof l&&l&&(a="".concat(a,"#").concat(l)),"string"==typeof f&&f&&(a="".concat(a,".").concat(f.replace(/\s/g,"."))),i["gtm.element"]=a}return t&&(i[t]=o,i.event=r||"default_v2"),i}throw new Error("[Iris Tracker] Event pushed without event name, data will be rejected")}catch(e){var d=u(e).message;s({level:"error",message:d})}}({tracker:o,customEventFieldName:t,defaultEventValue:r}),"object"!=typeof v&&null!==v)throw new Error("Iris tracker only accepts object or string!");if("string"==typeof v.event&&!v.event_ga.includes("gtm.")){var y=v.headers,m=v.event_ga.startsWith("performance_");!function(e){var n=e.currentTime,t=e.domain;if(void 0!==window.irisSessionRaw){var r=window.irisSessionRaw.beginningCurr,o=new Date(n),i=new Date(r),a=n-r,u=o.getDate()!==i.getDate(),l=a>=18e5;if(c()&&s({level:"log",message:"[Iris Tracker] Check Iris session, current time ".concat(n,", diff is ").concat(a)}),u||l)return c()&&(u&&s({level:"log",message:"[Iris Tracker] Trying to updateIrisSession due to midnight"}),l&&s({level:"log",message:"[Iris Tracker] Trying to updateIrisSession due to inactivity for ".concat(18e5," ms")})),void V({currentTime:n,domain:t,maxAge:31536e3});window.irisSessionRaw.beginningCurr=n}}({currentTime:f,domain:d});var w=Object.fromEntries(Object.entries(v).filter((function(e){var n=Y(e,1)[0];return!["headers","userId"].includes(n)}))),S=H({apps:a,cookieName:x(a)});if(m){var E=[{user_id:S,device_id:O("DID_JS"),device:v.device,app:v.app,event_data:[z(z({},v),{container:n,event:v.event_ga,event_ga:"performanceTrack",iris_session_id:window.irisSession,hits_time:f})]}];return void Z({apps:a,payload:E,isEventPerformance:!0,headers:y})}var P=M(),T=z(z({},w),{user_id:S,container:n,iris_session_id:window.irisSession,url:window.location.href,hits_time:f,deviceId:O("DID_JS"),version:"3.3.0"});if(P){var j=T[p];"string"==typeof j&&"string"!=typeof window.gaClientId&&k.includes(j)&&(T.newVisit=1,window.gaClientId=P),T.clientId=P}if(T&&function(e){var n=e.eventAttributeKey,t=e.tracker;try{var r=!0,o=!0,i=!0,a=!0;return n&&Object.prototype.hasOwnProperty.call(t,n)&&h.length>0&&(r=void 0===h.find((function(e){return t[n]===e}))),Object.prototype.hasOwnProperty.call(t,"eventAction")&&b.length>0&&(o=void 0===b.find((function(e){return t.eventAction===e}))),Object.prototype.hasOwnProperty.call(t,"eventCategory")&&_.length>0&&(a=void 0===_.find((function(e){return t.eventCategory===e}))),Object.prototype.hasOwnProperty.call(t,"eventLabel")&&I.length>0&&(i=void 0===I.find((function(e){return t.eventLabel===e}))),o&&i&&a&&r}catch(e){return!1}}({eventAttributeKey:p,tracker:T}))return void Z({apps:a,payload:T,isEventPerformance:!1,headers:y})}s({level:"log",message:["[Iris Tracker] failed to PUSH event",l(o)],options:{style:g}})}catch(e){var N=u(e).message;s({level:"error",message:"[Iris Tracker] PUSH event error - ".concat(N)})}var A},[2,new Promise((function(e){p=setInterval((function(){if(M()||v<10)return e(y),void clearInterval(p);v+=1}),1e3)}))]}))}))},Q=function(){try{if("undefined"!=typeof window){var e=new URLSearchParams(window.location.search),n=e.get("utm_source")||"",t=e.get("utm_medium")||"",r=e.get("utm_campaign")||"",o=e.get("utm_term")||"",i=e.get("utm_content")||"",a=e.get("gclid")||"";return{event:"pageviewIris",url:window.location.href,page_type:window.__PAGE_TYPE__,environment:window.NODE_ENV,service:window.__service,trackerId:"",utm_source:n,utm_medium:t,utm_campaign:r,utm_term:o,utm_content:i,gclid:a}}throw new Error("Only applied on CSR")}catch(e){return}},X=function(e){var n=e.container,t=e.apps,r=void 0===t?"tokopedia":t,o=e.customEventField,i=e.defaultEventValue;q({apps:r,container:n,customEventField:o,defaultEventValue:i}).then((function(e){e(void 0,Q())}))},ee=function(){return(ee=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)},ne=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}return t},te=function(e,n){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var r,o,i=t.call(e),a=[];try{for(;(void 0===n||n-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return a},re=function(e,n,t){if(t||2===arguments.length)for(var r,o=0,i=n.length;o<i;o++)!r&&o in n||(r||(r=Array.prototype.slice.call(n,0,o)),r[o]=n[o]);return e.concat(r||Array.prototype.slice.call(n))},oe=function(e,n,t){var r=e.apps,o=void 0===r?"tokopedia":r,i=e.domain,a=void 0===i?"tokopedia.com":i,c=ne(e,["apps","domain"]);R({domain:a}),q(ee(ee({},c),{apps:o,domain:a})).then((function(e){var r=e;r(void 0,Q()),y(n,r,t)}))},ie=function(e,n,t){var r=e.apps,o=void 0===r?"tokopedia":r,i=e.domain,a=void 0===i?"tokopedia.com":i,c=ne(e,["apps","domain"]);if("undefined"!=typeof window&&"undefined"!=typeof document&&!window.init_iris_new)try{R({domain:a}),q(ee({apps:o,domain:a},c)).then((function(e){var r=e;if(r(void 0,Q()),window[n]=[],window[n].push=r,t){var o=(window[n]||{}).push;window[n].push=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];if("function"==typeof o&&o.apply(void 0,re([window[n]],te(e),!1)),"function"==typeof t)return t.apply(void 0,re([window[n]],te(e),!1)),void(window.init_iris_new=!0);if(t instanceof Array)return t.forEach((function(t){"function"==typeof t&&t.apply(void 0,re([window[n]],te(e),!1))})),void(window.init_iris_new=!0);throw new Error("Hooks argument is not function or array format")}}}))}catch(e){var l=u(e).message;return void s({level:"error",message:["[Iris Tracker] Error initializing Iris instance - ".concat(l)]})}s({level:"error",message:"[Iris Tracker] No window and document instance found"})}}]);